@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* Custom CSS Variables for theming - Untitled UI Color System */
:root {
  /* ===== Untitled UI Full Color Palette ===== */

  /* Gray (Neutral) - Foundation colors */
  --gray-25: #FDFDFD;
  --gray-50: #FAFAFA;
  --gray-100: #F5F5F5;
  --gray-200: #E9EAEB;
  --gray-300: #D5D7DA;
  --gray-400: #A4A7AE;
  --gray-500: #717680;
  --gray-600: #535862;
  --gray-700: #414651;
  --gray-800: #252B37;
  --gray-900: #181D27;
  --gray-950: #0A0D12;

  /* Brand (Purple) - Primary interactive color */
  --brand-25: #FCFAFF;
  --brand-50: #F9F5FF;
  --brand-100: #F4EBFF;
  --brand-200: #E9D7FE;
  --brand-300: #D6BBFB;
  --brand-400: #B692F6;
  --brand-500: #9E77ED;
  --brand-600: #7F56D9;
  --brand-700: #6941C6;
  --brand-800: #53389E;
  --brand-900: #42307D;
  --brand-950: #2C1C5F;

  /* Error (Red) - Destructive actions */
  --error-25: #FFFBFA;
  --error-50: #FEF3F2;
  --error-100: #FEE4E2;
  --error-200: #FECDCA;
  --error-300: #FDA29B;
  --error-400: #F97066;
  --error-500: #F04438;
  --error-600: #D92D20;
  --error-700: #B42318;
  --error-800: #912018;
  --error-900: #7A271A;
  --error-950: #55160C;

  /* Warning (Orange) - Caution states */
  --warning-25: #FFFCF5;
  --warning-50: #FFFAEB;
  --warning-100: #FEF0C7;
  --warning-200: #FEDF89;
  --warning-300: #FEC84B;
  --warning-400: #FDB022;
  --warning-500: #F79009;
  --warning-600: #DC6803;
  --warning-700: #B54708;
  --warning-800: #93370D;
  --warning-900: #7A2E0E;
  --warning-950: #4E1D09;

  /* Success (Green) - Positive states */
  --success-25: #F6FEF9;
  --success-50: #ECFDF3;
  --success-100: #DCFAE6;
  --success-200: #ABEFC6;
  --success-300: #75E0A7;
  --success-400: #47CD89;
  --success-500: #17B26A;
  --success-600: #079455;
  --success-700: #067647;
  --success-800: #085D3A;
  --success-900: #074D31;
  --success-950: #053321;

  /* Blue - Secondary accent */
  --blue-25: #F5FAFF;
  --blue-50: #EFF8FF;
  --blue-100: #D1E9FF;
  --blue-200: #B2DDFF;
  --blue-300: #84CAFF;
  --blue-400: #53B1FD;
  --blue-500: #2E90FA;
  --blue-600: #1570EF;
  --blue-700: #175CD3;
  --blue-800: #1849A9;
  --blue-900: #194185;
  --blue-950: #102A56;

  /* ===== Semantic Mappings (Light Mode) ===== */
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: var(--gray-50);
  --color-bg-tertiary: var(--gray-100);
  --color-bg-hover: var(--gray-200);
  --color-text-primary: var(--gray-900);
  --color-text-secondary: var(--gray-600);
  --color-text-tertiary: var(--gray-500);
  --color-border: var(--gray-300);
  --color-accent: var(--brand-600);
  --color-accent-hover: var(--brand-700);
  --color-danger: var(--error-600);
  --color-warning: var(--warning-500);
  --color-success: var(--success-600);
  --color-on-accent: #FFFFFF;  /* Text on accent-colored backgrounds */

  /* ===== Shadcn/UI Theme Variables ===== */
  --radius: 0.625rem;
  --background: #FFFFFF;
  --foreground: var(--gray-900);
  --card: #FFFFFF;
  --card-foreground: var(--gray-900);
  --popover: #FFFFFF;
  --popover-foreground: var(--gray-900);
  --primary: var(--brand-600);
  --primary-foreground: #FFFFFF;
  --secondary: var(--gray-100);
  --secondary-foreground: var(--gray-900);
  --muted: var(--gray-100);
  --muted-foreground: var(--gray-500);
  --accent: var(--gray-100);
  --accent-foreground: var(--gray-900);
  --destructive: var(--error-600);
  --border: var(--gray-200);
  --input: var(--gray-200);
  --ring: var(--brand-500);
  --chart-1: var(--brand-500);
  --chart-2: var(--success-500);
  --chart-3: var(--blue-500);
  --chart-4: var(--warning-500);
  --chart-5: var(--error-500);
  --sidebar: var(--gray-50);
  --sidebar-foreground: var(--gray-900);
  --sidebar-primary: var(--brand-600);
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: var(--gray-100);
  --sidebar-accent-foreground: var(--gray-900);
  --sidebar-border: var(--gray-200);
  --sidebar-ring: var(--brand-500);
}

.dark {
  /* ===== Dark Mode Gray Palette (inverted scale) ===== */
  --gray-25: #0A0D12;
  --gray-50: #0F1218;
  --gray-100: #181D27;
  --gray-200: #252B37;
  --gray-300: #414651;
  --gray-400: #535862;
  --gray-500: #717680;
  --gray-600: #A4A7AE;
  --gray-700: #D5D7DA;
  --gray-800: #E9EAEB;
  --gray-900: #F5F5F5;
  --gray-950: #FAFAFA;

  /* Brand colors stay vibrant in dark mode */
  --brand-25: #1A0F2E;
  --brand-50: #2C1C5F;
  --brand-100: #42307D;
  --brand-200: #53389E;
  --brand-300: #6941C6;
  --brand-400: #7F56D9;
  --brand-500: #9E77ED;
  --brand-600: #B692F6;
  --brand-700: #D6BBFB;
  --brand-800: #E9D7FE;
  --brand-900: #F4EBFF;
  --brand-950: #F9F5FF;

  /* Error colors - adjusted for dark mode visibility */
  --error-25: #2D0F0F;
  --error-50: #55160C;
  --error-100: #7A271A;
  --error-200: #912018;
  --error-300: #B42318;
  --error-400: #D92D20;
  --error-500: #F04438;
  --error-600: #F97066;
  --error-700: #FDA29B;
  --error-800: #FECDCA;
  --error-900: #FEE4E2;
  --error-950: #FEF3F2;

  /* Warning colors - adjusted for dark mode */
  --warning-25: #2D1A05;
  --warning-50: #4E1D09;
  --warning-100: #7A2E0E;
  --warning-200: #93370D;
  --warning-300: #B54708;
  --warning-400: #DC6803;
  --warning-500: #F79009;
  --warning-600: #FDB022;
  --warning-700: #FEC84B;
  --warning-800: #FEDF89;
  --warning-900: #FEF0C7;
  --warning-950: #FFFAEB;

  /* Success colors - adjusted for dark mode */
  --success-25: #052E1C;
  --success-50: #053321;
  --success-100: #074D31;
  --success-200: #085D3A;
  --success-300: #067647;
  --success-400: #079455;
  --success-500: #17B26A;
  --success-600: #47CD89;
  --success-700: #75E0A7;
  --success-800: #ABEFC6;
  --success-900: #DCFAE6;
  --success-950: #ECFDF3;

  /* Blue - adjusted for dark mode */
  --blue-25: #0D1A2D;
  --blue-50: #102A56;
  --blue-100: #194185;
  --blue-200: #1849A9;
  --blue-300: #175CD3;
  --blue-400: #1570EF;
  --blue-500: #2E90FA;
  --blue-600: #53B1FD;
  --blue-700: #84CAFF;
  --blue-800: #B2DDFF;
  --blue-900: #D1E9FF;
  --blue-950: #EFF8FF;

  /* ===== Semantic Mappings (Dark Mode) ===== */
  --color-bg-primary: var(--gray-50);
  --color-bg-secondary: var(--gray-100);
  --color-bg-tertiary: var(--gray-200);
  --color-bg-hover: var(--gray-300);
  --color-text-primary: var(--gray-950);
  --color-text-secondary: var(--gray-600);
  --color-text-tertiary: var(--gray-500);
  --color-border: var(--gray-300);
  --color-accent: var(--brand-500);
  --color-accent-hover: var(--brand-400);
  --color-danger: var(--error-500);
  --color-warning: var(--warning-500);
  --color-success: var(--success-500);
  --color-on-accent: #FFFFFF;

  /* ===== Shadcn/UI Theme Variables (Dark Mode) ===== */
  --background: var(--gray-50);
  --foreground: var(--gray-950);
  --card: var(--gray-100);
  --card-foreground: var(--gray-950);
  --popover: var(--gray-100);
  --popover-foreground: var(--gray-950);
  --primary: var(--brand-500);
  --primary-foreground: #FFFFFF;
  --secondary: var(--gray-200);
  --secondary-foreground: var(--gray-950);
  --muted: var(--gray-200);
  --muted-foreground: var(--gray-500);
  --accent: var(--gray-200);
  --accent-foreground: var(--gray-950);
  --destructive: var(--error-500);
  --border: var(--gray-300);
  --input: var(--gray-300);
  --ring: var(--brand-500);
  --chart-1: var(--brand-500);
  --chart-2: var(--success-500);
  --chart-3: var(--blue-500);
  --chart-4: var(--warning-500);
  --chart-5: var(--error-500);
  --sidebar: var(--gray-100);
  --sidebar-foreground: var(--gray-950);
  --sidebar-primary: var(--brand-500);
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: var(--gray-200);
  --sidebar-accent-foreground: var(--gray-950);
  --sidebar-border: var(--gray-300);
  --sidebar-ring: var(--brand-500);
}

/* Base styles */
* {
  box-sizing: border-box;
}

/* Disable text selection on interactive elements globally */
button,
[role="button"],
[draggable="true"],
nav,
aside,
header,
footer,
.select-none {
  user-select: none;
  -webkit-user-select: none;
}

html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Inter", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-tertiary);
}

/* Focus styles */
:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Remove focus outline for inputs that should be invisible */
.focus-invisible:focus,
.focus-invisible:focus-visible {
  outline: none !important;
}

/* Button reset */
button {
  font-family: inherit;
}

/* Tiptap editor styles */
.tiptap {
  outline: none;
  min-height: 100px;
}

.tiptap p {
  margin: 0.25em 0;
}

.tiptap h1 {
  font-size: 1.875rem;
  font-weight: 600;
  margin: 1rem 0 0.5rem;
}

.tiptap h2 {
  font-size: 1.5rem;
  font-weight: 600;
  margin: 0.875rem 0 0.5rem;
}

.tiptap h3 {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0.75rem 0 0.5rem;
}

.tiptap ul:not([data-type="taskList"]),
.tiptap ol {
  padding-left: 1.5rem;
  margin: 0.25em 0;
  color: var(--color-text-primary);
}

.tiptap ul:not([data-type="taskList"]) {
  list-style-type: disc;
}

.tiptap ol {
  list-style-type: decimal;
}

.tiptap ul:not([data-type="taskList"]) li,
.tiptap ol li {
  display: list-item;
}

.tiptap ul[data-type="taskList"] {
  list-style: none;
  padding-left: 0;
}

.tiptap ul[data-type="taskList"] li {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
}

.tiptap ul[data-type="taskList"] li > label {
  flex-shrink: 0;
  margin-top: 0.25rem;
}

.tiptap ul[data-type="taskList"] li > div {
  flex: 1;
}

.tiptap ul[data-type="taskList"] li[data-checked="true"] > div {
  text-decoration: line-through;
  color: var(--color-text-tertiary);
}

.tiptap img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 0.5rem 0;
}

/* Resizable image styles */
.tiptap .resizable-image {
  display: inline-block;
  position: relative;
  user-select: none;
}

.tiptap .resizable-image img {
  display: block;
  margin: 0;
}

/* Image drag & drop zone indicator */
.tiptap.ProseMirror-focused[data-drag-over="true"] {
  background: var(--color-bg-hover);
  outline: 2px dashed var(--color-accent);
  outline-offset: -2px;
}

.tiptap a {
  color: var(--color-accent);
  text-decoration: underline;
}

/* Only show placeholder on the first empty paragraph when editor is empty */
.tiptap > p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: var(--color-text-tertiary);
  pointer-events: none;
  float: left;
  height: 0;
}

/* Never show placeholder inside task list items, list items, or other nested elements */
.tiptap ul[data-type="taskList"] .is-empty::before,
.tiptap li .is-empty::before,
.tiptap [data-type="taskItem"] .is-empty::before {
  content: none !important;
}

/* Drop indicator animation for drag and drop */
.drop-indicator {
  animation: dropIndicatorPulse 1s ease-in-out infinite;
}

@keyframes dropIndicatorPulse {
  0%, 100% {
    opacity: 1;
    transform: scaleX(1);
  }
  50% {
    opacity: 0.7;
    transform: scaleX(0.98);
  }
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Premium Shadow System - @PixelJanitor inspired */
@layer utilities {
  /* Light mode premium shadows - Natural depth with negative spread */
  .shadow-premium-sm {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.08),
      0 1px 1px -0.5px rgba(0, 0, 0, 0.08),
      0 2px 2px -1px rgba(0, 0, 0, 0.08);
  }

  .shadow-premium {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.08),
      0 1px 1px -0.5px rgba(0, 0, 0, 0.08),
      0 2px 2px -1px rgba(0, 0, 0, 0.08),
      0 4px 4px -2px rgba(0, 0, 0, 0.08);
  }

  .shadow-premium-md {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.06),
      0 2px 2px -1px rgba(0, 0, 0, 0.06),
      0 4px 4px -2px rgba(0, 0, 0, 0.06),
      0 8px 8px -4px rgba(0, 0, 0, 0.06);
  }

  .shadow-premium-lg {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.05),
      0 4px 6px -2px rgba(0, 0, 0, 0.08),
      0 10px 15px -3px rgba(0, 0, 0, 0.08),
      0 20px 25px -5px rgba(0, 0, 0, 0.08);
  }

  .shadow-premium-xl {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.05),
      0 10px 15px -3px rgba(0, 0, 0, 0.08),
      0 20px 25px -5px rgba(0, 0, 0, 0.08),
      0 25px 50px -12px rgba(0, 0, 0, 0.2);
  }

  /* Inset shadow for inputs - pressed into surface */
  .shadow-premium-inset {
    box-shadow:
      inset 0 0 0 1px rgba(0, 0, 0, 0.1),
      inset 0 2px 4px rgba(0, 0, 0, 0.06);
  }

  /* Dark mode premium shadows - 6 layer system */
  .dark .shadow-premium-sm {
    box-shadow:
      0 0.5px 0 0 rgba(0, 0, 0, 0.8),
      inset 0 0 0 1px rgba(255, 255, 255, 0.04),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.06),
      0 1px 1px rgba(0, 0, 0, 0.25),
      0 2px 2px rgba(0, 0, 0, 0.15);
  }

  .dark .shadow-premium {
    box-shadow:
      0 0.5px 0 0 rgba(0, 0, 0, 0.8),
      inset 0 0 0 1px rgba(255, 255, 255, 0.06),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
      0 1px 1px rgba(0, 0, 0, 0.3),
      0 2px 2px rgba(0, 0, 0, 0.2),
      0 4px 4px rgba(0, 0, 0, 0.15);
  }

  .dark .shadow-premium-md {
    box-shadow:
      0 0.5px 0 0 rgba(0, 0, 0, 0.8),
      inset 0 0 0 1px rgba(255, 255, 255, 0.05),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.08),
      0 2px 2px rgba(0, 0, 0, 0.25),
      0 4px 4px rgba(0, 0, 0, 0.2),
      0 8px 8px rgba(0, 0, 0, 0.15);
  }

  .dark .shadow-premium-lg {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.05),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05),
      0 4px 6px rgba(0, 0, 0, 0.3),
      0 10px 15px rgba(0, 0, 0, 0.25),
      0 20px 25px rgba(0, 0, 0, 0.2);
  }

  .dark .shadow-premium-xl {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.05),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.03),
      0 10px 15px rgba(0, 0, 0, 0.3),
      0 20px 25px rgba(0, 0, 0, 0.25),
      0 25px 50px rgba(0, 0, 0, 0.4);
  }

  .dark .shadow-premium-inset {
    box-shadow:
      inset 0 0 0 1px rgba(255, 255, 255, 0.08),
      inset 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  /* Button-specific premium shadow with hover/active states */
  .shadow-premium-button {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.08),
      0 1px 1px -0.5px rgba(0, 0, 0, 0.1),
      0 2px 2px -1px rgba(0, 0, 0, 0.1),
      0 3px 3px -1.5px rgba(0, 0, 0, 0.08);
  }

  .shadow-premium-button:hover {
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.1),
      0 2px 2px -1px rgba(0, 0, 0, 0.1),
      0 4px 4px -2px rgba(0, 0, 0, 0.1),
      0 6px 6px -3px rgba(0, 0, 0, 0.08);
  }

  .dark .shadow-premium-button {
    box-shadow:
      0 0.5px 0 0 rgba(0, 0, 0, 0.8),
      inset 0 0 0 1px rgba(255, 255, 255, 0.06),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
      0 1px 1px rgba(0, 0, 0, 0.3),
      0 2px 2px rgba(0, 0, 0, 0.2),
      0 4px 4px rgba(0, 0, 0, 0.15);
  }

  .dark .shadow-premium-button:hover {
    box-shadow:
      0 0.5px 0 0 rgba(0, 0, 0, 0.9),
      inset 0 0 0 1px rgba(255, 255, 255, 0.08),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.12),
      0 2px 2px rgba(0, 0, 0, 0.35),
      0 4px 4px rgba(0, 0, 0, 0.25),
      0 6px 6px rgba(0, 0, 0, 0.18);
  }
}
